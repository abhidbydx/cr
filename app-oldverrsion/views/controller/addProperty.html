<div class="animate-switch-container" ng-cloak ng-switch on="selection" id="addProperty">
	<div class="closeBtn" pt-confirmclick="labels.common.message.CONFIRM_CANCEL" pt-click="cancel()">
    	<i class="fa fa-times"></i>
    </div>  
	<div class="modal-header">
        <h5>{{headerText}}</h5>
    </div>
    <div class="errorMsg"><span>{{valErrMsg}}</span></div>
    <div ng-switch-when="step1">
        <form name="myForm1" ng-submit="stepOneNext()">
    		<div class="modal-body formFieldArea marginT10">
                <div class="row-fluid">
                    <div class="formRow">
                        <label class="pull-left">
                            {{labels.common.items.CITY}}<span class="strickColor">*</span>
                        </label>
                        <input class="pull-left" pt-focus="true" type="text"  pt-placeholder="labels.addproperty.placeholder.SELECT_CITY" ng-model="listing.city" typeahead-editable="false" typeahead-on-select="onCitySelected()" typeahead="city as city.label for city in cities.data | filter:$viewValue |  limitTo:8">
                    </div>
                    <div class="formRow">
                        <label class="pull-left">
                            {{labels.common.items.PROJECT}}<span class="strickColor">*</span>
                        </label>
                        <input class="pull-left" type="text" ng-disabled="!listing.city" pt-placeholder="labels.addproperty.placeholder.SELECT_PROJECT" ng-model="listing.project" typeahead-editable="true" typeahead-on-select="onProjectSelected()"  typeahead-wait-ms="500" 
                            typeahead="project as project.coreText for project in projects(listing.city.label, $viewValue) | limitTo:8">
                    </div>
                </div>
    		</div>
    		<div class="modal-footer">
    		    <button class="btn-primary">{{labels.common.items.NEXT_BUTTON}}</button>
    		</div>
        </form>
	</div>
	<div ng-switch-when="step2">
        <form name="form2" ng-submit="stepTwoNext()">
        <div class="formLabelMessage">
        	<span>{{listing.project.coreText}}, {{listing.localityName}}, {{listing.city.label}}</span>
        </div>
        <div class="modal-body formFieldArea">
            <div class="row-fluid">
                <div class="formRow">
                    <label class="pull-left">{{labels.common.items.CONFIGURATION}}<span class="strickColor">*</span></label>
                     <select class="pull-left" ng-model="listing.unitDefault" ng-init="listing.unit=0" ng-options="unit as (unit.unitName + ' ' + unit.sizeMeasure ) for unit in listing.units" ng-change="updateSize(listing.unitDefault)">
                        <option value="">{{labels.portfolio.label.CONFIGURATON_OPTION_0}}</option>
                     </select>
                </div>                
                <div class="formRow" ng-show="listing.unitDefault">
                    <label class="pull-left">{{labels.common.items.SIZE}}<span class="strickColor">*</span></label>
                    <input class="pull-left" maxlength="5" ng-model="listing.listingSize">
                </div>     
                <div class="formRow">
                    <label class="pull-left">{{labels.portfolio.label.PURCHASED_FOR}}</label>
                    <select class="pull-left" ng-options="option for option in purchasedForOptions" ng-model="listing.purchasedFor"></select>
                </div>
                <div class="formRow">
                    <label class="pull-left">{{labels.portfolio.label.PROPERTY_NAME}}<span class="strickColor">*</span></label>
                    <input class="pull-left" maxlength="30" type="text"  ng-model="listing.propertyName" >
                </div>
		<div class="formRow">
                    <label class="pull-left">{{labels.portfolio.label.DATE_OF_PURCAHSE}}</label>
                     <span class="control-group input-append pull-left">                        
                        <input type="text" ng-model="listing.purchaseDate" readonly="readonly" data-date-format="dd/mm/yyyy" bs-datepicker>
                        <button type="button" class="btn" data-toggle="datepicker"><i class="icon-calendar"></i></button>
                    </span>
                </div>               
                <div class="formRow">
                    <label class="pull-left">{{labels.portfolio.label.UNIT_NO}}</label>
                    <input class="pull-left" maxlength="5" ng-model="listing.unitNo" >
                </div>
                <div class="formRow">
                    <label class="pull-left">{{labels.common.items.FLOOR}}</label>
                    <input class="pull-left" maxlength="5" ng-model="listing.floor" >
                </div>
                <div class="formRow">
                    <label class="pull-left">{{labels.common.items.TOWER}}</label>
                    <input class="pull-left" type="text" maxlength="15" ng-model="listing.tower" >
                </div>
            </div>
		</div>
		<div class="modal-footer">
			<button class="btn-primary" ng-click="stepTwoBack()" ng-show='showBack'>{{labels.common.items.BACK_BUTTON}}</button>
		    <button class="btn-primary" type="submit">{{labels.common.items.NEXT_BUTTON}}</button>
		</div>
    </form>
	</div>
	<div ng-switch-when="step3">
        <form name="myForm3" ng-submit="save()">
        <div class="formLabelMessage">
        	<span>{{listing.project.coreText}}, {{listing.localityName}}, {{listing.city.label}}</span>
        </div>
		<div class="modal-body formFieldArea">
        	<div class="row-fluid">
                <div class="formRow">
                    <label class="pull-left">{{labels.portfolio.label.BASE_PRICE}}(<i class="fa fa-inr"></i>)<span class="strickColor">*</span></label>
                    <input class="pull-left" maxlength="10" ng-model="listing.basePrice" pt-placeholder="labels.addproperty.placeholder.PRICE" ng-change="priceChange()">
                </div>
                <div class="formRow">
                    <label class="pull-left">{{labels.portfolio.label.OTHER_EXPENSES_1}}(<i class="fa fa-inr"></i>)</label>
                    <input class="pull-left" maxlength="10" ng-model="listing.otherExpenses" pt-placeholder="labels.addproperty.placeholder.PRICE" ng-change="priceChange()">	
        			<i class="fa fa-question pull-left helpArea marginTL7" tooltip-html-unsafe="{{labels.portfolio.message.OTHER_EXPENSES}}"></i>
                </div>
                <div class="formRow">
                    <label class="pull-left">{{labels.portfolio.label.TOTAL_PRICE}}(<i class="fa fa-inr"></i>)</label>
                    <input class="pull-left" type="text" ng-model="listing.totalPrice" ng-readonly="true">
                </div>
                <div class="formRow">
                    <label class="pull-left">{{labels.portfolio.label.GOAL_AMOUNT}}(<i class="fa fa-inr"></i>)</label>
                    <input class="pull-left" maxlength="10" ng-model="listing.goalAmount" pt-placeholder="labels.addproperty.placeholder.PRICE">
        			<i class="fa fa-question pull-left helpArea marginTL7" tooltip-html-unsafe="{{labels.portfolio.message.GOAL_AMOUNT}}"></i>
                </div>
                <div class="formRow">
                    <label class="pull-left">{{labels.portfolio.label.LOAN_STATUS}}</label>
                    <select class="pull-left" ng-options="option for option in loanOptions" ng-change="loanStatusChange()" ng-model="listing.loanStatus">
                        <option value="">--Select Status--</option>
                     </select>
                </div>
                <div class="formRow" ng-show="listing.loanStatus == loanOptions[0]">
                    <label class="pull-left">{{labels.portfolio.label.BANK_NAME}}</label>
                    <select class="pull-left" ng-model="listing.bank" ng-options="bank as bank.name for bank in banks" ng-disabled="loanAvailedFlag">
                        <option value="">{{labels.portfolio.label.BANKS_OPTION_0}}</option>
                    </select>
                </div>
                <div class="formRow" ng-show="listing.loanStatus == loanOptions[0]">
                    <label class="pull-left">{{labels.portfolio.label.PROPERTY_LOAN}}<small>({{labels.portfolio.label.LOAN_AMOUNT}} in <i class="fa fa-inr"></i>)</small></label>
                    <input class="pull-left" maxlength="10" ng-model="listing.loanAmount" pt-placeholder="labels.addproperty.placeholder.PRICE" ng-disabled="loanAvailedFlag">
                </div>
                <div class="formRow" ng-show="listing.loanStatus == loanOptions[0]">
                    <label class="pull-left">{{labels.portfolio.label.LOAN_AVAILED}}<small>({{labels.portfolio.label.LOAN_AMOUNT}} in <i class="fa fa-inr"></i>)</small></label>
                    <input class="pull-left" maxlength="10" ng-model="listing.loanAvailedAmount" pt-placeholder="labels.addproperty.placeholder.PRICE" ng-disabled="loanAvailedFlag">
                </div>
            </div>
		</div>
		<div class="modal-footer">
			<button class="btn-primary" ng-click="stepThreeBack()">{{labels.common.items.BACK_BUTTON}}</button>
		    <button class="btn-primary" type="submit">{{listing.saveUpdate}}</button>
		</div>
    </form>
	</div>
    <div ng-switch-when="step4">
    	<div class="formLabelMessage">
        	<span>{{listing.project}}, {{listing.city.label}}</span>
        </div>
    	<div class="modal-body formFieldArea">
        	<div class="row-fluid">                
                <div class="paddingTB10 informactionMessage">
                    {{labels.portfolio.label.PROPERTY_NOT_AVAILABLE}}
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn-primary" ng-click="stepTwoBack()">{{labels.common.items.BACK_BUTTON}}</button>
            <button class="btn-primary" ng-click="sendNewRequest()">{{labels.common.label.SEND_BUTTON}}</button>
        </div>
    </div>
</div>
