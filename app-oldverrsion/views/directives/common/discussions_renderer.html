<div pt-avatar user-info="discussion.user" avatar-type="'discussion'"></div>
<div class="ec-com-disc-info">
  <div class="ec-author-info">
    <span class="user-name author">{{discussion.adminUserName}}</span> | 
    <span class="comment-time">{{discussion.createdDate | date:'mediumDate' }}</span>
  </div>
  <span class="comment-html pull-left">{{discussion.comment}}</span>
</div>
<div class="ec-com-rep-info">
  <a name="reply" class="pull-left" ng-click="Reply(discussion.id)">Reply</a>
  <div class="pull-left ec-link">
    <i name="like" ng-click="Like(discussion.id)" class="fa fa-thumbs-o-up"></i>
    <span class="user-name author">({{discussion.numLikes}})</span>
  </div>
</div>

<div ng-if="discussion.id == replyActiveId" class="ec-discu-info clear">
  <textarea ng-model="discussion.newComment" class="ec-discu-comm"></textarea>
  <div class="pull-right">
    <button name="submit" ng-click="Submit(discussion.newComment, discussion)" class="btn-primary small-btn">Submit</button>
    <button name="cancel" ng-click="Close()" class="btn-default small-btn marginL10">Cancel</button>
  </div>
</div>
<div ng-if="discussion.replies">
  <ul>
    <li ng-class="{'ec-comment' : (discussion.depth < 3), 'ec-non-indent-comment' : (discussion.depth >= 3)}" ng-repeat="discussion in discussion.replies" ng-include="'views/directives/common/discussions_renderer.html'">
    </li>
  </ul>
</div>    
